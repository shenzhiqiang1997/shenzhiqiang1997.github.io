---
title: MySQL索引小结
date: 2018-08-22 17:49:00
tags:
    - 索引
    - 数据库
    - MySQL
categories:
    - MySQL
---
# B+Tree索引
## 概述
B+Tree索引是MySQL中大多引擎的默认索引方式。  
使用B+Tree查找只需要遍历B+Tree而不是全文扫描，它支持全键值查找、键值范围查找和最左前缀查找。除了查找它还在支持排序和分组。  
B+Tree的索引分为两类：聚簇索引和非聚簇索引。
<!-- more -->
## 聚簇索引
聚簇索引中数据行的存储顺序与索引的顺序是一致的。  
从B+Tree的角度来看，聚簇索引的叶节点将索引值和数据行存放在一起，因而一个表只能有一个聚簇索引。  
MySQL中InnoDB引擎采用的是聚簇索引，它的主索引的叶节点存放了数据行，而辅助索引的叶节点存放的是主索引值，需要再到主索引中查找才能找到数据行。
## 非聚簇索引
非聚簇索引中数据行的存储顺序与索引的顺序无关。  
从B+Tree的角度来看，非聚簇索引的叶节点将索引值和数据航的地址或者索引值存放在一起。  
MySQL中MyISAM引擎采用的是非聚簇索引，它的主索引和辅助索引的叶节点都存放的是数据行的地址。  ![image](https://note.youdao.com/yws/public/resource/708ad1b1ee41c2b335e0cac5c8d83d03/xmlnote/3CD320133F9041DB8ACE135AB6F3212A/14765)  
<center>InnoDB引擎和MyISAM引擎的索引比较</center>  

# 哈希索引
哈希索引可以使得查找的时间复杂度为O(1)，但是它只支持精确查找，并不能像B+Tree索引进行范围查找，并且它不支持分组和排序。  
在MySQL的InnoDB引擎中，如果一个索引经常被访问，则会为该索引建立一个哈希索引来加快查询。  
# 全文索引
全文索引支持通过关键字查找文本，它的实现原理是是用倒排索引将关键字与文档进行映射。  
之前只有MyISAM引擎支持该索引，但现在最新版本的MySQL中的InnoDB引擎也支持全文索引了。
# 空间数据索引
MyISAM引擎支持空间数据索引，它可以从多个维度索引数据，也可以从任意个维度来进行组合查询。