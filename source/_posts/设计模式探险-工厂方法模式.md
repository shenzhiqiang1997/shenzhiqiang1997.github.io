---
title: 设计模式探险-工厂方法模式
date: 2018-04-12 20:09:36
tags: 
    - 设计模式
    - Java
categories: 
    - 设计模式
---
# 工厂方法模式
## 什么是工厂方法模式
工厂方法模式是对简单工厂模式的优化，将创建对象的方法交给子工厂类来实现。
## 实现方式
定义一个接口类及方法来定义创建对象的规范，实现不同子工厂来实现一个接口/类的不同实现类/子类的创建。
<!-- more -->
## 优点
克服了简单工厂类不遵守开放-封闭原则的缺点，当增删某个接口/类的实现类/子类时，只需要通过创建子工厂类来实现对该实现类/子类的创建，而不必像简单工厂模式那样修改工厂类。
## 缺点
当某个接口/类的实现类/子类较多时，可能导致子工厂类和代码量的膨胀。
## 实现代码
```java
// 一个接口与其具体实现类
public interface Product {
}

public class ConcreteProduct1 implements Product {
}

public class ConcreteProduct2 implements Product {
}

// 工厂接口 定义了工厂方法即创建某接口/类的实现类/子类的规范
public interface Factory {
    Product createProduct();
}

// 具体子工厂类
public class ConcreteFactory1 implements Factory {
    @Override
    public Product createProduct() {
        return new ConcreteProduct1();
    }
}

public class ConcreteFactory2 implements Factory {
    @Override
    public Product createProduct() {
        return new ConcreteProduct2();
    }
}

// 测试
public class FactoryMethodTest {
    @Test
    public void test(){
        Factory factory = new ConcreteFactory1();
        Product product = factory.createProduct();
        
        factory = new ConcreteFactory2();
        product = factory.createProduct();
    }
}
```
