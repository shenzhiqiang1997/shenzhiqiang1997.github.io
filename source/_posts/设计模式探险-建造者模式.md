---
title: 设计模式探险-建造者模式
date: 2018-08-28 11:00:00
tags: 
    - 设计模式
    - Java
categories: 
    - 设计模式
---
# 建造者模式
## 什么是建造者模式
用多个简单对象一步步构建一个复杂对象，使得一个复杂对象的构造和表示分离。
<!-- more -->
## 实现方式
在一个类中定义一个静态内部类Builder，在Builder对象携带一个该类对象。Builder提供链式方法来为该类对象赋予属性，提供一个build的方法，其根据已赋属性的该类对象以及业务相应的构建模式来构建一个全新的业务对象并返回给客户端。
## 实现代码
```java
public class Person {
    private String name;
    private String sex;
    private int age;

    public Person(){}
    public Person(Person source){
        this.name = source.name;
        this.sex = source.sex;
        this.age = source.age;
    }

    public static class Builder{
        private Person template;

        public Builder(){
            template = new Person();
        }

        public Builder name(String name){
            template.name = name;
            return this;
        }

        public Builder sex(String sex){
            template.sex = sex;
            return this;
        }

        public Builder age(int age){
            template.age = age;
            return this;
        }

        public Person build(){
            // 实际中会根据对应业务构建对象
            return new Person(template);
        }

    }
}
class Client{
    @Test
    public void test(){
        Person.Builder builder = new Person.Builder();
        Person person = builder
                .name("Marry")
                .sex("female")
                .age(23)
                .build();
    }
}

```  
## 优点
* 复杂对象的构建变得简洁易于编写，避免了构造函数的膨胀。
* 构造器独立，可以解耦，易于扩展。  

## 缺点
* 当对象的属性或构建模式发生改变，就要修改或创建新的Builder。

