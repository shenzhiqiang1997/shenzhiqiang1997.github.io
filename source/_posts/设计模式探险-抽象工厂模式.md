---
title: 设计模式探险-抽象工厂模式
date: 2018-04-14 02:10:44
tags: 
    - 设计模式
    - Java
categories: 
    - 设计模式
---
# 抽象工厂模式
## 什么是抽象工厂模式
提供一个接口来创建一系列相关对象。
## 实现方式
定义一个抽象工厂类，其需要定义创建一系列相关对象的规范。通过创建不同的子工厂类来实现对不同系列相关对象的创建。
<!-- more -->
## 实现代码
```java
// 两个相关的产品接口
public interface ProductA {
}

public interface ProductB {
}

// 两对相关的产品实现
public class ConcreteProductA1 implements ProductA{
}

public class ConcreteProductB1 implements ProductB {
}

public class ConcreteProductA2 implements ProductA {
}

public class ConcreteProductB2 implements ProductB {
}

// 抽象工厂 提供了创建相关产品A和B的接口
public abstract class AbstractFactory {
    public abstract ProductA createProductA();
    public abstract ProductB createProductB();
}

// 抽象工厂的具体实现 实现了创建具体相关产品A1和B1的方法
public class ConcreteFactory1 extends AbstractFactory {
    @Override
    public ProductA createProductA() {
        return new ConcreteProductA1();
    }

    @Override
    public ProductB createProductB() {
        return new ConcreteProductB1();
    }
}

// 抽象工厂的具体实现 实现了创建具体相关产品A2和B2的方法
public class ConcreteFactory2 extends AbstractFactory {
    @Override
    public ProductA createProductA() {
        return new ConcreteProductA2();
    }

    @Override
    public ProductB createProductB() {
        return new ConcreteProductB2();
    }
}

// 测试类
public class AbstractFactoryTest {
    @Test
    public void test(){
        AbstractFactory factory1 = new ConcreteFactory1();
        // 创建具体相关产品对象A1和B1
        ProductA productA1 = factory1.createProductA();
        ProductB productB1 = factory1.createProductB();
        
        AbstractFactory factory2 = new ConcreteFactory2();
        //创建具体相关产品对象A2和B2
        ProductA productA2 = factory2.createProductA();
        ProductB productB2 = factory2.createProductB();
    }
}
```
## 优点
将一系列相关的对象创建内聚到一个工厂实现类中。
## 缺点
当增删要创建的相关对象时，不仅要更改抽象工厂的接口，也要修改各个工厂实现类的具体实现。

